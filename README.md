![example workflow](https://github.com/reakfog/yamdb_final/actions/workflows/yamdb_workflow/badge.svg)

# Api Yamdb

Автор: [Перчун Евгений](https://github.com/reakfog)

REST API для сервиса **YaMDb**.
База отзывов о фильмах, книгах и музыке.

Проект _Яндекс.Практикум_ по курсу **"Работа с внешними API"**

## Содержание
1. [Описание](#description)
2. [Запуск проекта](#launch)

## <a name='description'>Описание</a>

Проект **YaMDb** собирает отзывы пользователей на произведения.
Произведения делятся на категории: «Книги», «Фильмы», «Музыка».
Список категорий (Category) может быть расширен (например, можно добавить категорию
«Изобразительное искусство» или «Ювелирка» через интерфейс Django администратора).

**API для сервиса YaMDb.** позволяет работать со следующими сущностями:

 * **Пользователи** (Получить список всех пользователей, создание пользователя, получить пользователя по username, изменить данные пользователя по username, удалить пользователя по username, получить данные своей учетной записи, изменить данные своей учетной записи)
 * **Произведения**, к которым пишут отзывы (Получить список всех объектов, создать произведение для отзывов, информация об объекте, обновить информацию об объекте, удалить произведение)
 * **Категории** (типы) произведений (Получить список всех категорий, создать категорию, удалить категорию)
 * **Жанры** (Получить список всех жанров, создать жанр, удалить жанр)
 * **Отзывы** (Получить список всех отзывов, создать новый отзыв, получить отзыв по id, частично обновить отзыв по id, удалить отзыв по id)
 * **Коментарии к отзывам** (Получить список всех комментариев к отзыву по id, создать новый комментарий для отзыва, получить комментарий для отзыва по id, частично обновить комментарий к отзыву по id, удалить комментарий к отзыву по id)
 * **JWT-токен** (Отправление confirmation_code на переданный email, получение JWT-токена в обмен на email и confirmation_code)

[Полная документация API (redoc.yaml)](https://github.com/reakfog/api_yamdb/blob/master/static/redoc.yaml)


## <a name='launch'>Запуск проекта</a>
Чтобы развернуть проект необходимо выполнить следующие действия (у Вас уже должен быть установлен Docker):

* создайте `.env` файл в директории проекта и добавье в него список переменных:
  * SECRET_KEY=`ваш секретный ключ`
  * DB_ENGINE=django.db.backends.postgresql
  * DB_NAME=postgres
  * POSTGRES_USER=postgres
  * POSTGRES_PASSWORD=postgres
  * DB_HOST=db
  * DB_PORT=5432
* в терминале выполните команды из директории проекта:
  * `docker-compose up -d --build`
  * `docker-compose exec web python manage.py migrate --noinput`
  * `docker-compose exec web python manage.py createsuperuser`
  * `docker-compose exec web python manage.py collectstatic --no-input`
* при желании можно загруить тестовые данные в базу данных:
  * `docker-compose exec web python manage.py loaddata fixtures.json`

Проект будет доступен по адресу http://127.0.0.1/. Админка будет доступна по адресу http://127.0.0.1/admin/.